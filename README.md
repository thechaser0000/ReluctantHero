# ReluctantHero

A game about an abruptly ending vacation.

All text resources of the game, comments and documentation are oriented to Russian.

* * * 

## История разработки

Разработка началась с попытки сделать движок для простых игр, встраиваемых в серьезные приложения в виде пасхальных яиц. Движок должен был просто оперировать сущностями, выстроенными в виде прямоугольной сетки. Вся отрисовка должна была быть реализована в целевом приложении (WinForms, WPF, да что угодно).

Для целей отладки был реализован текстовый вывод в консоль, возник персонаж, перемещающийся между ячейками, появились какие-то враги. Вырисовывающаяся картина показалась забавной и, ради веселья, мир игры стал расширятся. Появились слои, появилась прокрутка мира, появилась мини-карта. Карта подтолкнула к идее отказаться от простого текстового вывода и реализовать своеобразные спрайты. Появился герой, враги получили характеры, завязался сюжет игры. Было решено сделать два полноценных уровня с несколько отличающимися механиками. Герой обрел партнера, появилась потребность в прологе и эпилоге. Параллельно шла борьба с производительностью, поскольку стандартный вывод в консоль работал медленно, а использовать иные способы отрисовки не хотелось. Были некоторые проблемы с отзывчивостью управления, рефакторинг отнимал много времени...

Бурлили новые идеи, но приходилось себя сдерживать, чтобы не тратить слишком много времени на демонстрационный проект. В итоге получилось то, что получилось - простая, короткая, но полностью законченная игра.

## Технические подробности

Только факты:
* Для отрисовки текста и графики используется класс System.Console
* Для ускорения вывода в консоль перерисовываются только изменившиеся в новом кадре части экрана (класс ConsoleAccelerator)
* Все ресурсы хранятся внутри исходного кода программы, загрузка данных с диска не осуществляется
* Игровой мир обновляется 4 раза в секунду, что является компромиссом между геймплеем и производительностью вывода на консоль
* Класс GameSeed позволяет настраивать параметры игры и баланс
* Расматривалось воспроизведение звуков на основе стороннего кода, использовавшего winmm.dll, но было решено не усложнять проект
* Все персонажи перемещаются за такт ровно на 1 клетку, что сказывается на плавности и невозможности увеличить фреймрейт
* Некоторые анимационные вставки реализованы непосредственно на движке, в некоторых же просто двигаются спрайты
* В проекте около 23 000 строк, включая подробные комментарии
* Из них графика занимает более 6 000 строк (класс SpriteLibrary)
* Разрешение графики составляет 102 на 70 "точек"
* Приложение не использует многопоточность
* Приложение написано в Visual Studio на .NET 6 / C# 10

## О команде и техническом долге

Разработка началась в ноябре 2022 силами одного человека. Сейчас, во время написания этих строк, заканчивается март 2023 года и вся команда по-прежнему умещается на одном стуле.

В проекте не использовались никакие сторонние ресурсы, будь то код, графика или геймплейные решения. Впрочем, не исключено, что какие-то фрагменты кода всё же были взяты из интернета.

Были приложены серьёзные усилия к написанию аккуратного, доступного для понимания кода, оставлялись корректные комментарии, вовремя проводился рефакторинг и исправлялись замечания компилятора. Но в какой-то момент проект вышел за пределы первоначального замысла и главной целью стало довести его до конца, не погрязнув в мелочах. В итоге проект вряд ли можно назвать образцовым.

Исходные коды проекта с самого начала управлялись Subversion, поэтому их целостность была под полным контролем. Готовый проект, приведенный в порядок настолько, насколько хватило сил и желания, был опубликован на Github уже в окончательном виде.

Ссылка на Github автора: https://github.com/thechaser0000

## О правах

Данное приложение является открытым и свободным программным обеспечением под лицензией MIT (https://opensource.org/license/mit/)

Данная лицензия разрешает лицам, получившим копию данного программного обеспечения и сопутствующей документации (в дальнейшем именуемыми «Программное Обеспечение»), безвозмездно использовать Программное Обеспечение без ограничений, включая неограниченное право на использование, копирование, изменение, слияние, публикацию, распространение, сублицензирование и/или продажу копий Программного Обеспечения, а также лицам, которым предоставляется данное Программное Обеспечение, при соблюдении следующих условий:

Указанное выше уведомление об авторском праве и данные условия должны быть включены во все копии или значимые части данного Программного Обеспечения.

Полный исходный код проекта размещен в репозитории GitHub по адресу https://github.com/thechaser0000/ReluctantHero

Полный текст лицензии размещен в репозитории GitHub по адресу https://github.com/thechaser0000/ReluctantHero/blob/main/LICENSE

Copyright (c) 2023 B48